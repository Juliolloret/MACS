{
  "system_variables": {
    "openai_api_key": "YOUR_KEY",
    "llm_client": "openai",
    "output_project_synthesis_folder_name": "project_synthesis",
    "output_project_hypotheses_folder_name": "project_hypotheses",
    "output_project_experiments_folder_name": "project_experiments",
    "long_term_memory_filename": "faiss_index_ltm",
    "short_term_memory_filename": "faiss_index_stm",
    "default_llm_model": "gpt-5",
    "models": {
      "long_term_memory_model": "gpt-5-mini",
      "pdf_summarizer": "gpt-5-mini",
      "multi_doc_synthesizer_model": "gpt-5",
      "deep_research_summarizer_model": "gpt-5",
      "web_research_model": "gpt-5-mini",
      "knowledge_integrator_model": "gpt-5",
      "hypothesis_generator": "gpt-5",
      "experiment_designer": "gpt-5"
    },
    "openai_api_timeout_seconds": 120
  },
  "agent_prompts": {
    "pdf_summarizer_sm": "You are an expert academic summarizer. Produce a concise, accurate summary (250-500 words) capturing core arguments, methods, key findings, and main conclusions of the provided text.",
    "multi_doc_synthesizer_sm": "You are a cross-document synthesis expert. Combine the provided individual document summaries into a single, coherent narrative. Highlight converging evidence, disagreements, methodological nuances, open problems, and promising directions that emerge from comparing the documents.",
    "deep_research_summarizer_sm": "You are a deep research synthesis expert. Based on a user's query and a set of retrieved document excerpts, provide a comprehensive and coherent summary that directly addresses the user's question. Synthesize the information from the excerpts to build a complete picture, highlighting key points, and identifying any contradictions or gaps.",
    "web_researcher_sm": "You are a research assistant performing targeted web-style exploration. Starting from the provided cross-document understanding, surface concise supporting context, conflicting viewpoints, emerging trends, and noteworthy data points from the broader literature or web-accessible knowledge.",
    "experimental_data_loader_sm": "You are a data utility. You will receive text describing experimental results. Present this text as a structured summary. If the text is already a summary, present it as is. Your main role is to make this data available for the next agent.",
    "knowledge_integrator_sm": "You are a senior research strategist. You have been provided with: \n1. A 'cross-document understanding' synthesized from multiple academic papers.\n2. A 'web research summary' providing broader context.\n3. An 'experimental data summary' (which may be 'N/A' if not provided).\nYour task is to integrate these three sources of information into a final, concise 'integrated knowledge brief' (approx. 400-600 words). This brief should highlight the most salient points, synergies, and overall insights. \nIn addition, explicitly identify and articulate the following within the brief:\n- Key contradictions or inconsistencies found across the information sources.\n- Salient unanswered questions that emerge from the synthesis.\n- Underexplored connections or novel links between disparate pieces of information that could suggest new research directions.\n- A summary of the key limitations or gaps in the current overall understanding based on the provided materials.\nThis comprehensive brief, enriched with these specific analytical points, will be the foundation for generating novel hypotheses. Ensure the output remains a single, coherent text document.",
    "hypothesis_generator_sm": "You are a highly insightful research strategist and innovator. Based on the provided 'integrated knowledge brief' (which consolidates information from multiple papers, web research, and experimental data), your task is to:\n1.  **Identify Key Opportunities:** Briefly highlight the most promising areas for novel research based on the integrated knowledge.\n2.  **Generate Hypotheses:** Propose {num_hypotheses} distinct, novel, and groundbreaking hypotheses. Strive for diversity in your hypotheses, exploring different perspectives and unconventional angles. Each hypothesis must be specific, measurable, and testable. For each hypothesis, include a brief justification (1-2 sentences) explaining its novelty and testability.\n\n**Output Format STRICTLY REQUIRED:** Provide your response as a single JSON object with two keys:\n- `\"key_opportunities\"`: A string containing your brief summary of key research opportunities.\n- `\"hypotheses\"`: A JSON array of objects, where each object has two keys: `\"hypothesis\"` (a string with the hypothesis itself) and `\"justification\"` (a string explaining its novelty and testability).\n\nExample JSON output structure:\n```json\n{{\n  \"key_opportunities\": \"The integration of X from papers, Y from web, and Z from experiments points to a critical need to investigate C, particularly exploring unconventional approaches D and E.\",\n  \"hypotheses\": [\n    {{\n      \"hypothesis\": \"Hypothesis 1: Implementing X approach in Y context will lead to Z outcome.\",\n      \"justification\": \"This hypothesis is novel because it combines previously disparate concepts X and Y. It is testable by conducting a controlled experiment measuring Z under specific conditions.\"\n    }},\n    {{\n      \"hypothesis\": \"Hypothesis 2: The underlying mechanism M is responsible for observed phenomenon P, challenging existing theory T.\",\n      \"justification\": \"This hypothesis is novel as it proposes an alternative mechanism M not considered in current theory T. It can be tested by designing an experiment to isolate and verify the activity of M and its correlation with P.\"\n    }}\n  ]\n}}\n```\nEnsure the entire output is a valid JSON object.",
    "experiment_designer_sm": "You are an expert experimental physicist and research methodologist. Outline a feasible, rigorous, and detailed experimental design for the given hypothesis. Include Objective, Methodology & Apparatus, Step-by-step Procedure, Variables & Controls, Data Collection & Analysis, Expected Outcomes & Success Criteria, Potential Challenges & Mitigation, and Ethical Considerations (if applicable).",
    "long_term_memory_sm": "You are a knowledge curator AI. Your task is to maintain a coherent and up-to-date 'knowledge brief'. You will be given an 'EXISTING KNOWLEDGE BRIEF' and 'NEWLY ADDED INFORMATION'. Your job is to seamlessly integrate the new information into the existing brief. The final output should be a single, unified text. Do not treat the inputs as separate documents; merge them. Eliminate redundancy, resolve contradictions by favoring the new information unless it's clearly out of context, and refine the overall narrative. The goal is to produce a single, authoritative, and concise knowledge brief that is better than the sum of its parts. Do not use markdown or special formatting."
  },
  "graph_definition": {
    "nodes": [
      {
        "id": "initial_input_provider",
        "type": "InitialInputProvider",
        "config": {
          "description": "Provides the initial list of PDF paths and other runtime inputs."
        }
      },
      {
        "id": "pdf_loader_node",
        "type": "PDFLoaderAgent",
        "config": {
          "description": "Loads text from a PDF file. Loops over a list of paths.",
          "loop_over": "all_pdf_paths",
          "loop_item_input_key": "pdf_path"
        }
      },
      {
        "id": "pdf_summarizer_node",
        "type": "PDFSummarizerAgent",
        "config": {
          "description": "Summarizes text from a single PDF. Loops over the results of the loader.",
          "loop_over": "loader_results",
          "model_key": "pdf_summarizer",
          "system_message_key": "pdf_summarizer_sm",
          "max_input_length": 15000,
          "temperature": 0.6,
          "parallel_execution": true,
          "reasoning_effort": "low",
          "verbosity": "low"
        }
      },
      {
        "id": "multi_doc_synthesizer",
        "type": "MultiDocSynthesizerAgent",
        "config": {
          "description": "Combines individual PDF summaries into a cross-document synthesis.",
          "model_key": "multi_doc_synthesizer_model",
          "system_message_key": "multi_doc_synthesizer_sm",
          "temperature": 0.6
        }
      },
      {
        "id": "short_term_memory_node",
        "type": "ShortTermMemoryAgent",
        "config": {
          "description": "Collects all individual PDF summaries into a short-term memory store for the current run.",
          "vector_store_path_key": "short_term_memory_filename"
        }
      },
      {
        "id": "deep_research_summarizer",
        "type": "DeepResearchSummarizerAgent",
        "config": {
          "description": "Performs a deep research summary based on a user query.",
          "model_key": "deep_research_summarizer_model",
          "system_message_key": "deep_research_summarizer_sm",
          "temperature": 0.7,
          "top_k": 3,
          "reasoning_effort": "high"
        }
      },
      {
        "id": "web_researcher",
        "type": "WebResearcherAgent",
        "config": {
          "description": "Performs complementary web-style research based on the deep research synthesis.",
          "model_key": "web_research_model",
          "system_message_key": "web_researcher_sm",
          "temperature": 0.6
        }
      },
      {
        "id": "long_term_memory_node",
        "type": "LongTermMemoryAgent",
        "config": {
          "description": "Integrates the latest synthesis into a persistent long-term knowledge base.",
          "storage_filename_key": "long_term_memory_filename"
        }
      },
      {
        "id": "experimental_data_loader",
        "type": "ExperimentalDataLoaderAgent",
        "config": {
          "description": "Loads and structures textual summary of experimental data from a file.",
          "system_message_key": "experimental_data_loader_sm",
          "use_llm_to_summarize_data": false,
          "max_exp_data_len": 10000,
          "temperature": 0.6
        }
      },
      {
        "id": "knowledge_integrator",
        "type": "KnowledgeIntegratorAgent",
        "config": {
          "description": "Integrates multi-doc synthesis, web research, and experimental data into a final brief.",
          "model_key": "knowledge_integrator_model",
          "system_message_key": "knowledge_integrator_sm",
          "max_input_segment_len": 10000,
          "temperature": 0.6,
          "reasoning_effort": "high",
          "allow_execution_with_errors": true
        }
      },
      {
        "id": "hypothesis_generator",
        "type": "HypothesisGeneratorAgent",
        "config": {
          "description": "Generates novel hypotheses from the integrated knowledge brief.",
          "model_key": "hypothesis_generator",
          "system_message_key": "hypothesis_generator_sm",
          "num_hypotheses": 5,
          "max_brief_len": 15000,
          "temperature": 0.6,
          "reasoning_effort": "high"
        }
      },
      {
        "id": "experiment_designer",
        "type": "ExperimentDesignerAgent",
        "config": {
          "description": "Designs experimental protocols for generated hypotheses.",
          "model_key": "experiment_designer",
          "system_message_key": "experiment_designer_sm",
          "reasoning_effort": "high",
          "loop_over": "hypotheses_list",
          "loop_item_input_key": "hypothesis",
          "parallel_execution": true
        }
      },
      {
        "id": "observer",
        "type": "ObserverAgent",
        "config": {
          "description": "Reviews all agent outputs for errors."
        }
      },
      {
        "id": "pdf_summary_writer_node",
        "type": "PDFSummaryWriterAgent",
        "config": {
          "description": "Writes each PDF summary to a separate text file.",
          "output_dir": "project_synthesis/summaries"
        }
      }
    ],
    "edges": [
      {
        "from": "initial_input_provider",
        "to": "pdf_loader_node",
        "data_mapping": {
          "all_pdf_paths": "all_pdf_paths"
        }
      },
      {
        "from": "pdf_summarizer_node",
        "to": "pdf_summary_writer_node",
        "data_mapping": {
          "results": "summaries_to_write"
        }
      },
      {
        "from": "pdf_summarizer_node",
        "to": "multi_doc_synthesizer",
        "data_mapping": {
          "results": "all_pdf_summaries"
        }
      },
      {
        "from": "initial_input_provider",
        "to": "deep_research_summarizer",
        "data_mapping": {
          "user_query": "user_query"
        }
      },
      {
        "from": "pdf_loader_node",
        "to": "pdf_summarizer_node",
        "data_mapping": {
          "results": "loader_results"
        }
      },
      {
        "from": "pdf_summarizer_node",
        "to": "short_term_memory_node",
        "data_mapping": {
          "results": "individual_summaries"
        }
      },
      {
        "from": "short_term_memory_node",
        "to": "deep_research_summarizer",
        "data_mapping": {
          "vector_store_path": "vector_store_path"
        }
      },
      {
        "from": "deep_research_summarizer",
        "to": "web_researcher",
        "data_mapping": {
          "deep_research_summary": "cross_document_understanding"
        }
      },
      {
        "from": "short_term_memory_node",
        "to": "long_term_memory_node",
        "data_mapping": {
          "individual_summaries": "individual_summaries"
        }
      },
      {
        "from": "multi_doc_synthesizer",
        "to": "knowledge_integrator",
        "data_mapping": {
          "multi_doc_synthesis_output": "multi_doc_synthesis"
        }
      },
      {
        "from": "deep_research_summarizer",
        "to": "knowledge_integrator",
        "data_mapping": {
          "deep_research_summary": "deep_research_summary"
        }
      },
      {
        "from": "web_researcher",
        "to": "knowledge_integrator",
        "data_mapping": {
          "web_summary": "web_research_summary"
        }
      },
      {
        "from": "experimental_data_loader",
        "to": "knowledge_integrator",
        "data_mapping": {
          "experimental_data_summary": "experimental_data_summary"
        }
      },
      {
        "from": "knowledge_integrator",
        "to": "hypothesis_generator",
        "data_mapping": {
          "integrated_knowledge_brief": "integrated_knowledge_brief"
        }
      },
      {
        "from": "hypothesis_generator",
        "to": "experiment_designer",
        "data_mapping": {
          "hypotheses_list": "hypotheses_list"
        }
      }
    ]
  }
}
